<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<script th:src="@{/js/jquery-3.1.1.min.js}"></script>
<script th:src="@{/js/jquery.form.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/layer/layer.js}"></script>

<script th:inline="javascript">
		//异步提交表单($.ajaxSubmit为异步提交表单)
		//使用此函数时需要在页面引入(jquery.form.js )
		function doUpload(){
			var name = '1';
			console.log("doUpload.......");
            console.log("22: "+name);
			$("#uploadFormId").ajaxSubmit({
				type:"post",
				url:"upPath",
				dataType:"json",
				data:{"name":name},
				success:function(result){
               		console.log("11: "+name);
					layer.alert(result.name);
				}
			});
			//$("#uploadFormId").resetForm();
			return false;//防止表单重复提交的一种方式
		}
		
		//下载
		function download(){
			var download = $("#download");
				console.log(download);
		
		}
	</script>

<head>
<meta charset="UTF-8" />
<title>文件上传</title>
</head>
<body>
	<div>
		<form id="uploadFormId" method="post">
			请选择上传文件:<input type="file" name="mFile"
				class="btn btn-primary btn-upload" enctype="multipart/form-data" />
			<input type="button" value="上传" class="btn btn-success"
				onclick="doUpload()" />
		</form>
		<a class="btn btn-success" href="download">下载</a>
	</div>
</body>
</html>


